(function(t){function a(a){for(var s,n,i=a[0],c=a[1],l=a[2],u=0,m=[];u<i.length;u++)n=i[u],o[n]&&m.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(m.length)m.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,i=1;i<e.length;i++){var c=e[i];0!==o[c]&&(s=!1)}s&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},o={app:0},r=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=a,i=i.slice();for(var l=0;l<i.length;l++)a(i[l]);var d=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var s=e("64a9"),o=e.n(s);o.a},"446f":function(t,a,e){},"50ce":function(t,a,e){"use strict";var s=e("446f"),o=e.n(s);o.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("Selfieless Acts")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[e("div",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Category")]),e("div",{staticClass:"dropdown-menu"},t._l(t.categories,function(a,s){return e("a",{key:s,staticClass:"dropdown-item",on:{click:function(e){return t.filter(a)}}},[t._v(t._s(a))])}),0)]),t._m(1)])])]),e("div",{staticClass:"modal fade",attrs:{id:"categoryModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("Category Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryAdd,expression:"categoryAdd"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:t.categoryAdd},on:{input:function(a){a.target.composing||(t.categoryAdd=a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addCategory}},[t._v("Add")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"userModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(3),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm,expression:"userForm"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:t.userForm},on:{input:function(a){a.target.composing||(t.userForm=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"text",id:"password"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addUser}},[t._v("Add")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(4),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"category"}},[t._v("Category")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formCategory,expression:"formCategory"}],staticClass:"form-control",attrs:{id:"category"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.formCategory=a.target.multiple?e:e[0]}}},t._l(t.categories,function(a,s){return e("option",{key:s},[t._v(" "+t._s(a)+" ")])}),0)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("Content")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{id:"content"},domProps:{value:t.content},on:{input:function(a){a.target.composing||(t.content=a.target.value)}}})]),e("div",{staticClass:"input-group"},[e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"file",accept:"image/*"},on:{change:t.convertImg}}),e("label",{staticClass:"custom-file-label",attrs:{for:"file"}},[t._v(t._s(t.imgName))])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.postAct}},[t._v("Add")])])])])]),e("div",{staticClass:"container"},[e("br"),t.loading?e("div",{staticClass:"spinner"},[e("div",{staticClass:"rect1"}),e("div",{staticClass:"rect2"}),e("div",{staticClass:"rect3"}),e("div",{staticClass:"rect4"}),e("div",{staticClass:"rect5"}),e("div",{staticClass:"rect6"})]):t._e(),e("div",{staticClass:"col-lg-6 offset-lg-3"},t._l(t.acts,function(t,a){return e("Post",{key:a,attrs:{act:t}})}),1)])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" + New ")]),e("div",{staticClass:"dropdown-menu"},[e("a",{staticClass:"dropdown-item",attrs:{href:"","data-toggle":"modal","data-target":"#exampleModal"}},[t._v("Act")]),e("a",{staticClass:"dropdown-item",attrs:{href:"","data-toggle":"modal","data-target":"#userModal"}},[t._v("User")]),e("a",{staticClass:"dropdown-item",attrs:{href:"","data-toggle":"modal","data-target":"#categoryModal"}},[t._v("Category")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("New Category")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("New User")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("New Act")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=(e("7f7f"),e("a4bb")),i=e.n(n),c=(e("ac6a"),e("bc3a")),l=e.n(c),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("br"),e("div",{staticClass:"col-lg-6 offset-lg-3"},t._l(t.acts,function(t,a){return e("Post",{key:a,attrs:{act:t}})}),1)])},u=[],m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"card"},[e("img",{staticClass:"card-img-top",attrs:{src:t.act.imgB64,alt:"Card image cap"}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.act.username))]),e("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t.act.category))]),e("p",{staticClass:"card-text"},[t._v(t._s(t.act.caption))]),e("a",{staticStyle:{"text-decoration":"none"}},[t._v(" "+t._s(t.act.upvotes)+"\n                    "),e("i",{staticClass:"far fa-heart",on:{click:function(a){return t.upvote(t.act)}}})]),t._v("    \n\n                "),e("a",{staticStyle:{"text-decoration":"none"},on:{click:function(a){return t.deleteAct(t.act)}}},[e("i",{staticClass:"far fa-trash-alt"})])])])]),e("br")])},f=[],p=(e("6b54"),{name:"Post",props:["act"],data:function(){return{actURL:"http://3.208.136.128/api/v1/acts"}},methods:{upvote:function(t){var a=this;l.a.post(this.actURL+"/upvote",[t.actId]).then(function(e){console.log(t.actId),a.getUpvotes(t.actId)}).catch(function(t){console.log(t)})},deleteAct:function(t){var a=this;l.a.delete(this.actURL+"/"+t.actId.toString()).then(function(t){a.$parent.getActs()}).catch(function(t){console.log(t)})},getUpvotes:function(t){var a=this,e=0;return l.a.get(this.actURL+"/upvote/"+t.toString()).then(function(t){a.act.upvotes=t.data.upvotes}).catch(function(t){console.log(t)}),e}}}),v=p,g=(e("50ce"),e("2877")),h=Object(g["a"])(v,m,f,!1,null,"143cbf35",null),b=h.exports,C={name:"Home",components:{Post:b},props:{},data:function(){return{acts:[],actURL:"http://localhost:8000/api/v1/acts"}},methods:{getActs:function(){var t=this;l.a.get(this.actURL).then(function(a){var e=a.data;e.forEach(function(a){t.acts.push(a)})}).catch(function(t){console.log(t)})}},created:function(){this.getActs()}},y=C,_=Object(g["a"])(y,d,u,!1,null,"5431f23d",null),w=_.exports,x={name:"app",components:{Home:w,Post:b},data:function(){return{categories:[],acts:[],actURL:"http://3.208.136.128/api/v1/acts",catURL:"http://3.208.136.128/api/v1/categories",userUrl:"http://3.208.136.128/api/v1/users",username:"",userForm:"",password:"",formCategory:"",categoryAdd:"",content:"",image:"",imgName:"",loading:!1}},methods:{getCategories:function(){var t=this;this.categories=[],l.a.get(this.catURL).then(function(a){var e=a.data;i()(e).forEach(function(a){t.categories.push(a)})}).catch(function(t){console.log(t)})},getActs:function(){var t=this;this.loading=!0,this.acts=[],l.a.get(this.actURL).then(function(a){var e=a.data;e.forEach(function(a){t.acts.push(a)}),t.loading=!1}).catch(function(a){console.log(a),t.loading=!1})},postAct:function(){var t=this;""!=this.username&&""!=this.formCategory&&""!=this.content&&""!=this.image&&l.a.post(this.actURL,{actId:Math.floor(1e3+9e3*Math.random()),username:t.username,timestamp:t.getDate(),category:t.formCategory,caption:t.content,imgB64:t.image}).then(function(a){t.username="",t.formCategory="",t.content="",t.image="",t.getActs()}).catch(function(t){console.log(t)})},addUser:function(){var t=this;""!=this.username&&""!=this.password&&l.a.post(this.userURL,{username:t.userForm,password:t.password}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},addCategory:function(){var t=this;""!=this.categoryAdd&&l.a.post(this.catURL,[this.categoryAdd]).then(function(a){t.getCategories()}).catch(function(t){console.log(t)})},filter:function(t){var a=this;this.acts=[],this.loading=!0,l.a.get(this.actURL).then(function(e){var s=e.data;s.forEach(function(e){e.category==t&&a.acts.push(e)}),a.loading=!1}).catch(function(t){console.log(t)})},convertImg:function(t){var a=this,e=t.target;if(e.files&&e.files[0]){this.imgName=e.files[0].name;var s=new FileReader;s.onload=function(t){a.image=t.target.result},s.readAsDataURL(e.files[0])}},getDate:function(){var t=new Date,a=t.getFullYear(),e=t.getDate(),s=t.getMonth()+1;e<10&&(e="0"+e),s<10&&(s="0"+s);var o=e+"-"+s+"-"+a,r=t.getHours(),n=t.getMinutes(),i=t.getSeconds();r<10&&(r="0"+r),n<10&&(n="0"+n),i<10&&(i="0"+i);var c=o+":"+i+"-"+n+"-"+r;return c}},created:function(){this.getActs(),this.getCategories()},mounted:function(){}},A=x,U=(e("034f"),Object(g["a"])(A,o,r,!1,null,null,null)),M=U.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(M)}}).$mount("#app")},"64a9":function(t,a,e){}});
//# sourceMappingURL=app.a80e0651.js.map